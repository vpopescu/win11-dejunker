file: redsigil.dfckr.db.v1
rules:
  - rule: win-start-menu-show-ads
    arg: win-start-menu-show-ads
    description: Ads (recommendations) in start menu
    admin_required: false
    value:
      type: OnOff
    exec:
      - subsystem: registry
        path: HKEY_CURRENT_USER\Software\Microsoft\Windows\CurrentVersion\Explorer\Advanced
        value:  Start_IrisRecommendations
        type: i32

  - rule: win-tailored-experience-with-diagnostic-data
    arg: win-tailored-experience-with-diagnostic-data
    description: Tailored experiences based on diagnostic data
    admin_required: false
    value:
      type: OnOff
    exec:
      - subsystem: registry
        path: HKEY_CURRENT_USER\Software\Microsoft\Windows\CurrentVersion\Privacy
        value:  TailoredExperiencesWithDiagnosticDataEnabled 
        type: i32

  - rule: win-notifications-suggestions
    arg: win-notifications-suggestions
    description: Suggestions about disabling some notifications
    admin_required: false
    value:
      type: OnOff
    exec:
      - subsystem: registry
        path: HKEY_CURRENT_USER\Software\Microsoft\Windows\CurrentVersion\Notifications\Settings\Windows.ActionCenter.SmartOptOut
        value:  Enabled
        type: i32

  - rule: win-get-more-from-windows-suggestion
    arg: win-get-more-from-windows-suggestion
    description: The 'Get even more out of windows' suggestion'
    admin_required: false
    value:
      type: OnOff
    exec:
      - subsystem: registry
        path: HKEY_CURRENT_USER\SOFTWARE\Microsoft\Windows\CurrentVersion\UserProfileEngagement
        value:  ScoobeSystemSettingEnabled 
        type: i32

  - rule: win-windows-web-search
    arg: win-windows-web-search
    description: Web search as part of windows search
    admin_required: true
    value:
      type: OnOff      
    exec:
      - subsystem: registry
        reversed: true
        path: HKEY_CURRENT_USER\Software\Policies\Microsoft\Windows\Explorer
        value:  DisableSearchBoxSuggestions
        type: i32
      - subsystem: registry
        path: HKEY_CURRENT_USER\Software\Microsoft\Windows\CurrentVersion\Search
        value:  BingSearchEnabled
        type: i32        

  - rule: win-sync-provider-notifications
    arg: win-sync-provider-notifications
    description: Notifications about getting a better experience
    admin_required: false
    value:
      type: OnOff
    exec:
      - subsystem: registry
        path: HKEY_CURRENT_USER\SOFTWARE\Microsoft\Windows\CurrentVersion\Explorer\Advanced
        value:  ShowSyncProviderNotifications
        type: i32

  - rule: win-tips-on-lock-screen
    arg: win-tips-on-lock-screen
    description: Get fun facts, tips, tricks, and more on your lock screen
    admin_required: false
    value:
      type: OnOff
    exec:
      - subsystem: registry
        path: HKEY_CURRENT_USER\Software\Microsoft\Windows\CurrentVersion\ContentDeliveryManager
        value:  RotatingLockScreenOverlayEnabled
        type: i32
      - subsystem: registry
        path: HKEY_CURRENT_USER\Software\Microsoft\Windows\CurrentVersion\ContentDeliveryManager
        value:  SubscribedContent-338387Enabled
        type: i32

  - rule: win-suggested-content-in-settings
    arg: win-suggested-content-in-settings
    description: Show suggested content in settings app
    admin_required: false
    value:
      type: OnOff
    exec:
      - subsystem: registry
        path: HKEY_CURRENT_USER\Software\Microsoft\Windows\CurrentVersion\ContentDeliveryManager
        value:  SubscribedContent-338393Enabled
        type: i32
      - subsystem: registry
        path: HKEY_CURRENT_USER\Software\Microsoft\Windows\CurrentVersion\ContentDeliveryManager
        value:  SubscribedContent-353694Enabled
        type: i32
      - subsystem: registry
        path: HKEY_CURRENT_USER\Software\Microsoft\Windows\CurrentVersion\ContentDeliveryManager
        value:  SubscribedContent-353696Enabled
        type: i32

  - rule: win-tips-and-suggestions
    arg: win-tips-and-suggestions
    description: Tips and suggestions when using windows
    admin_required: false
    value:
      type: OnOff
    exec:
      - subsystem: registry
        path: HKEY_CURRENT_USER\Software\Microsoft\Windows\CurrentVersion\ContentDeliveryManager
        value:  SubscribedContent-338389Enabled
        type: i32

  - rule: win-web-widget-allowed
    arg: win-web-widget-allowed
    description: Tips and suggestions when using windows
    admin_required: false
    value:
      type: OnOff
    exec:
      - subsystem: registry
        path: HKEY_CURRENT_USER\Software\Microsoft\Windows\CurrentVersion\ContentDeliveryManager
        value:  SubscribedContent-338389Enabled
        type: i32

# seems that this won't take effect until all edge processes are terminated (incl.background ones)
  - rule: edge-shopping-assistant
    arg: edge-shopping-assistant
    description: Microsoft edge shopping assistant
    admin_required: false
    value:
      type: OnOff
    exec:
      - subsystem: registry
        path: HKEY_CURRENT_USER\Software\Policies\Microsoft\Edge
        value:  EdgeShoppingAssistantEnabled
        type: i32

